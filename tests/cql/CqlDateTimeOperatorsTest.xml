<?xml version="1.0" encoding="utf-8"?>
<ns0:tests xmlns:ns0="http://hl7.org/fhirpath/tests" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhirpath/tests ../../testSchema/testSchema.xsd" name="CqlDateTimeOperatorsTest" reference="https://cql.hl7.org/09-b-cqlreference.html#datetime-operators-2" version="1.4">
	<capability code="datetime-operators"/>
	<capability code="arithmetic-operators"/>
	<capability code="comparison-operators"/>
	<capability code="duration-operators"/>
	<capability code="timezone-handling"/>
	<capability code="uncertainty-intervals"/>
	<ns0:group name="Add" version="1.4">
		<capability code="datetime-operators"/>
		<capability code="arithmetic-operators"/>
		<ns0:test name="DateTimeAdd5Years" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 10, 10) + 5 years</ns0:expression>
			<ns0:output>@2010-10-10T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddInvalidYears" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression invalid="true">DateTime(2005, 10, 10) + 8000 years</ns0:expression>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Months" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10) + 5 months</ns0:expression>
			<ns0:output>@2005-10-10T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddMonthsOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10) + 10 months</ns0:expression>
			<ns0:output>@2006-03-10T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddThreeWeeks" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2018, 5, 2) + 3 weeks = DateTime(2018, 5, 23)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddYearInWeeks" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2018, 5, 23) + 52 weeks = DateTime(2019, 5, 22)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeLeapDayAddYearInWeeks" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2023, 3, 2) + 52 weeks = DateTime(2024, 2, 29)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeLeapYearAddYearInWeeks" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2024, 2, 28) + 52 weeks = DateTime(2025, 2, 26)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Days" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10) + 5 days</ns0:expression>
			<ns0:output>@2005-05-15T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddDaysOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2016, 6, 10) + 21 days</ns0:expression>
			<ns0:output>@2016-07-01T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Hours" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10, 5) + 5 hours</ns0:expression>
			<ns0:output>@2005-05-10T10</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5HoursWithLeftMinPrecisionSecond" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10, 5, 20, 30) + 5 hours</ns0:expression>
			<ns0:output>@2005-05-10T10:20:30</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5HoursWithLeftMinPrecisionDay" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10) + 5 hours = DateTime(2005, 5, 10)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5HoursWithLeftMinPrecisionDayOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10) + 25 hours = DateTime(2005, 5, 11)</ns0:expression>
			<ns0:output>true</ns0:output>
		</ns0:test>
		<ns0:test name="DateAdd2YearsAsMonths" version="1.3">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>Date(2014) + 24 months</ns0:expression>
			<ns0:output>@2016</ns0:output>
		</ns0:test>
		<ns0:test name="DateAdd2YearsAsMonthsRem1" version="1.3">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>Date(2014) + 25 months</ns0:expression>
			<ns0:output>@2016</ns0:output>
		</ns0:test>
		<ns0:test name="DateAdd33Days" version="1.3">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>Date(2014,6) + 33 days</ns0:expression>
			<ns0:output>@2014-07</ns0:output>
		</ns0:test>
		<ns0:test name="DateAdd1Year" version="1.3">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>Date(2014,6) + 1 year</ns0:expression>
			<ns0:output>@2015-06</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddHoursOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2016, 6, 10, 5) + 19 hours</ns0:expression>
			<ns0:output>@2016-06-11T00</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Minutes" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10, 5, 5) + 5 minutes</ns0:expression>
			<ns0:output>@2005-05-10T05:10</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddMinutesOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2016, 6, 10, 5, 5) + 55 minutes</ns0:expression>
			<ns0:output>@2016-06-10T06:00</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Seconds" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10, 5, 5, 5) + 5 seconds</ns0:expression>
			<ns0:output>@2005-05-10T05:05:10</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddSecondsOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2016, 6, 10, 5, 5, 5) + 55 seconds</ns0:expression>
			<ns0:output>@2016-06-10T05:06:00</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd5Milliseconds" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2005, 5, 10, 5, 5, 5, 5) + 5 milliseconds</ns0:expression>
			<ns0:output>@2005-05-10T05:05:05.010</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddMillisecondsOverflow" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2016, 6, 10, 5, 5, 5, 5) + 995 milliseconds</ns0:expression>
			<ns0:output>@2016-06-10T05:05:06.000</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAddLeapYear" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2012, 2, 29) + 1 year</ns0:expression>
			<ns0:output>@2013-02-28T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd2YearsByMonths" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2014) + 24 months</ns0:expression>
			<ns0:output>@2016T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd2YearsByDays" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2014) + 730 days</ns0:expression>
			<ns0:output>@2016T</ns0:output>
		</ns0:test>
		<ns0:test name="DateTimeAdd2YearsByDaysRem5Days" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>DateTime(2014) + 735 days</ns0:expression>
			<ns0:output>@2016T</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd5Hours" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 5 hours</ns0:expression>
			<ns0:output>@T20:59:59.999</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd1Minute" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 1 minute</ns0:expression>
			<ns0:output>@T16:00:59.999</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd1Second" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 1 seconds</ns0:expression>
			<ns0:output>@T16:00:00.999</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd1Millisecond" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 1 milliseconds</ns0:expression>
			<ns0:output>@T16:00:00.000</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd5Hours1Minute" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 5 hours + 1 minutes</ns0:expression>
			<ns0:output>@T21:00:59.999</ns0:output>
		</ns0:test>
		<ns0:test name="TimeAdd5hoursByMinute" version="1.4">
			<capability code="datetime-operators"/>
			<capability code="arithmetic-operators"/>
			<ns0:expression>@T15:59:59.999 + 300 minutes</ns0:expression>
			<ns0:output>@T20:59:59.999</ns0:output>
		</ns0:test>
	</ns0:group>
</ns0:tests>